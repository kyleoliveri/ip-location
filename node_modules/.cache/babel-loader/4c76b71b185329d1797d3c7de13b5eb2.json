{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex flex-col h-screen max-h-screen\"\n};\nconst _hoisted_2 = {\n  class: \"z-20 flex justify-center relative bg-hero-pattern bg-cover px-4 pt-8 pb-32\"\n};\nconst _hoisted_3 = {\n  class: \"w-full max-w-screen-sm\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"text-white text-center text-3xl pb-4\"\n}, \"IP Address Tracker\", -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = {\n  class: \"flex\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"map\",\n  class: \"h-full z-10\"\n}, null, -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_IPInfo = _resolveComponent(\"IPInfo\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Search / Results \"), _createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" Search Input \"), _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.queryIp = $event),\n    class: \"flex-1 py-3 px-2 rounded-tl-md rounded-bl-md focus:outline-none\",\n    type: \"text\",\n    placeholder: \"Search for any IP address or leave empty to get your IP info\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $setup.queryIp]]), _createElementVNode(\"i\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $setup.getIpInfo && $setup.getIpInfo(...args)),\n    class: \"cursor-pointer bg-black text-white px-4 rounded-tr-md rounded-br-md flex items-center fa-solid fa-chevron-right\"\n  })])]), $setup.ipInfo ? (_openBlock(), _createBlock(_component_IPInfo, {\n    key: 0,\n    ipInfo: $setup.ipInfo\n  }, null, 8\n  /* PROPS */\n  , [\"ipInfo\"])) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Map \"), _hoisted_6]);\n}","map":{"version":3,"mappings":";;AACOA,OAAK,EAAC;;;AAGPA,OAAK,EAAC;;;AAGDA,OAAK,EAAC;;;gCACTC,oBAAwE,IAAxE,EAAwE;AAApED,OAAK,EAAC;AAA8D,CAAxE,EAAiD,oBAAjD,EAAmE;AAAA;AAAnE;;;AACKA,OAAK,EAAC;;;gCAcdC,oBAAwC,KAAxC,EAAwC;AAAnCC,IAAE,EAAC,KAAgC;AAA1BF,OAAK,EAAC;AAAoB,CAAxC;;AAAA;;;;;uBAtBHG,oBAuBM,KAvBN,cAuBM,CAtBJC,yCAsBI,EArBJH,oBAiBM,KAjBN,cAiBM,CAdJG,qCAcI,EAbJH,oBAWM,KAXN,cAWM,CAVJI,UAUI,EATJJ,oBAQM,KARN,cAQM,iBAPJA,oBAKE,OALF,EAKE;+DAJSK,iBAAOC,OAIhB;AAHAP,SAAK,EAAC,iEAGN;AAFAQ,QAAI,EAAC,MAEL;AADAC,eAAW,EAAC;AACZ,GALF;;AAAA,oBACWH,iBAMP,EADJL,oBAAkJ,GAAlJ,EAAkJ;AAA9IS,WAAK,yCAAEJ,6CAAF,CAAyI;AAA5HN,SAAK,EAAC;AAAsH,GAAlJ,CACI,CARN,CASI,CAXN,CAaI,EADUM,+BAAdK,aAA+CC,iBAA/C,EAA+C;UAAA;AAAlBC,UAAM,EAAEP;AAAU,GAA/C;;AAAA,oDACI,CAjBN,CAqBI,EAFJF,4BAEI,EADHU,UACG,CAvBN","names":["class","_createElementVNode","id","_createElementBlock","_createCommentVNode","_hoisted_4","$setup","$event","type","placeholder","onClick","_createBlock","_component_IPInfo","ipInfo","_hoisted_6"],"sourceRoot":"","sources":["/Users/kyle/Documents/Dev/ip_tracker/app/src/views/HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"flex flex-col h-screen max-h-screen\">\n    <!-- Search / Results -->\n    <div\n      class=\"z-20 flex justify-center relative bg-hero-pattern bg-cover px-4 pt-8 pb-32\"\n    >\n      <!-- Search Input -->\n      <div class=\"w-full max-w-screen-sm\">\n        <h1 class=\"text-white text-center text-3xl pb-4\">IP Address Tracker</h1>\n        <div class=\"flex\">\n          <input\n            v-model=\"queryIp\"\n            class=\"flex-1 py-3 px-2 rounded-tl-md rounded-bl-md focus:outline-none\"\n            type=\"text\"\n            placeholder=\"Search for any IP address or leave empty to get your IP info\"\n          />\n          <i @click=\"getIpInfo\" class=\"cursor-pointer bg-black text-white px-4 rounded-tr-md rounded-br-md flex items-center fa-solid fa-chevron-right\"></i>\n        </div>\n      </div>\n      <IPInfo v-if=\"ipInfo\" v-bind:ipInfo=\"ipInfo\" />\n    </div>\n\n    <!-- Map -->\n     <div id=\"map\" class=\"h-full z-10\"></div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport IPInfo from '../components/IPInfo.vue'\nimport leaflet from 'leaflet'\nimport { onMounted, ref } from 'vue'\nimport axios from 'axios'\nexport default {\n  name: 'HomeView',\n  components: { IPInfo },\n  setup () {\n    let mymap\n    const queryIp = ref('')\n    const ipInfo = ref(null)\n    onMounted(() => {\n      mymap = leaflet.map('map').setView([51.505, -0.09], 13)\n\n      leaflet.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1Ijoia3lsZW9saXZlcmkiLCJhIjoiY2wxMXI5ajhkMDlqNjNkczNnc3QwdnZpZyJ9.nG-937jxmBbWEMJiVohU4w', {\n        attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Imagery Â© <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n        maxZoom: 18,\n        id: 'mapbox/streets-v11',\n        tileSize: 512,\n        zoomOffset: -1,\n        accessToken: 'pk.eyJ1Ijoia3lsZW9saXZlcmkiLCJhIjoiY2wxMXI5ajhkMDlqNjNkczNnc3QwdnZpZyJ9.nG-937jxmBbWEMJiVohU4w'\n      }).addTo(mymap)\n    })\n    const getIpInfo = async (req, res) => {\n      try {\n        const data = await axios.get(`https://geo.ipify.org/api/v2/country?apiKey=at_XS6PLyCrOPBgUsaKZdVjHkJLQGB3z&ipAddress=${queryIp.value}`)\n        const result = data.data\n        ipInfo.value = {\n          address: result.ip,\n          state: result.location.region,\n          timezone: result.location.timezone,\n          isp: result.isp,\n          lat: result.location.lat,\n          lng: result.location.lng\n        }\n        leaflet.marker([ipInfo.value.lat, ipInfo.value.lng]).addTo(mymap)\n      } catch (err) {\n        console.log(err)\n        res.send(err)\n      }\n    }\n    return { queryIp, ipInfo, getIpInfo }\n  }\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}